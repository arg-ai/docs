---
title: 'Consecutive function calling'
description: 'Call functions till the query is complete.'
icon: 'repeat'
---

## Add `max_calls`
Sometimes a query will require functions being called not once but multiple times consecutively. This will be able choose and run different registered functions till `max_calls` or an answer is reached.

```python
arg(
    """1. Write a file called "hello.txt" that says "hello world".
2. Then write a file called "bye.txt" that says "bye world".
3. Then say "hello!"`""",
    max_calls=10,
    max_attempts=5
)
```

logs:
```
1: ğŸ’¬: 1. Write a file called "hello.txt" that says "hello world".
2. Then write a file called "bye.txt" that says "bye world".
3. Then say "hello!"
    ğŸ“ Calling LLM
    ğŸƒ Running function: create_file(filename='hello.txt', text='hello world')
    âœ”ï¸ Sucessfull, result: {'status': 'success', 'filename': 'hello.txt'}
2: ğŸŒŸ: Ran create_file, result: {'status': 'success', 'filename': 'hello.txt'}
    ğŸ“ Calling LLM
    ğŸƒ Running function: create_file(filename='bye.txt', text='bye world')
    âœ”ï¸ Sucessfull, result: {'status': 'success', 'filename': 'bye.txt'}
3: ğŸŒŸ: Ran create_file, result: {'status': 'success', 'filename': 'bye.txt'}
    ğŸ“ Calling LLM
4: ğŸ¤–: Hello!
```