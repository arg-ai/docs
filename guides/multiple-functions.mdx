---
title: 'Multiple functions'
description: 'Run multiple functions'
icon: 'rectangle-history-circle-plus'
---

Calling from multiple functions with just natural language, the LLM will automatically decide which functions to use and in which order.

## 1. First register the functions
```python
from argai import ArgAI
arg = ArgAI()

@arg.register
def create_file(filename, text):
    """Create a file from raw text"""
    with open(filename,'w') as f:
        f.write(text)
        return {"success":True}

import pandas as pd

@arg.register
def pandas_query(csv_file, query):
    """Run a pandas query on a csv file"""
    df = pd.read_csv(csv_file)
    return df.query(query)
```

## 2. Run
For complex queries that requires multiple calls of different functions set `max_calls` for [consecutive calling](guides/consecutive-calls) and `max_attempts` for [self-healing](guides/self-healing).
```python
arg(
    """1. Write a file called "hello.txt" that says "hello world".
2. Then write a file called "bye.txt" that says "bye world".
3. Then say "hello!"`""",
    max_calls=10,
    max_attempts=5
)
```
logs:
```
1: ğŸ’¬: 1. Write a file called "hello.txt" that says "hello world".
2. Then write a file called "bye.txt" that says "bye world".
3. Then say "hello!"`
    ğŸ“ Calling LLM
    ğŸƒ Running function: create_file(filename='hello.txt', text='hello world')
    âœ”ï¸ Sucessfull, result: {'status': 'success', 'filename': 'hello.txt'}
2: ğŸŒŸ: Ran create_file, result: {'status': 'success', 'filename': 'hello.txt'}
    ğŸ“ Calling LLM
    ğŸƒ Running function: create_file(filename='bye.txt', text='bye world')
    âœ”ï¸ Sucessfull, result: {'status': 'success', 'filename': 'bye.txt'}
3: ğŸŒŸ: Ran create_file, result: {'status': 'success', 'filename': 'bye.txt'}
    ğŸ“ Calling LLM
4: ğŸ¤–: Hello!
```

result.output:
```
{'status': 'success', 'filename': 'bye.txt'}
```